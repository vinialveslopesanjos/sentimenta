# Sentimenta â€” Documento de FundaÃ§Ã£o

> *"O que as pessoas falam sobre vocÃª importa. A gente ajuda vocÃª a ouvir."*

---

## Ãndice

1. [Por que existimos](#por-que-existimos)
2. [Nossa missÃ£o](#nossa-missÃ£o)
3. [Nossa visÃ£o](#nossa-visÃ£o)
4. [Valores](#valores)
5. [Filosofia de produto](#filosofia-de-produto)
6. [Para quem construÃ­mos](#para-quem-construÃ­mos)
7. [Como pensamos](#como-pensamos)
8. [O que nÃ£o somos](#o-que-nÃ£o-somos)
9. [Nossa linguagem](#nossa-linguagem)
10. [FundaÃ§Ã£o tÃ©cnica](#fundaÃ§Ã£o-tÃ©cnica)

---

## Por que existimos

Toda vez que alguÃ©m publica algo nas redes sociais, centenas ou milhares de pessoas respondem. ComentÃ¡rios, reaÃ§Ãµes, opiniÃµes â€” um volume de informaÃ§Ã£o humana que nenhuma pessoa consegue processar sozinha.

Criadores, marcas e empresas ficam com a sensaÃ§Ã£o de que existe algo importante naquela enxurrada de texto, mas nÃ£o sabem o quÃª. Leem alguns comentÃ¡rios positivos, se animam. Leem alguns negativos, ficam preocupados. Mas sem contexto, sem padrÃ£o, sem escala â€” Ã© impossÃ­vel saber se o que vocÃª estÃ¡ sentindo reflete a realidade ou sÃ³ o Ãºltimo comentÃ¡rio que vocÃª leu.

A Sentimenta nasceu para resolver isso.

NÃ£o criamos um dashboard de nÃºmeros frios. Criamos uma plataforma que **ouve o seu pÃºblico com empatia** e te devolve isso em forma de insights que fazem sentido â€” emocionalmente e matematicamente.

---

## Nossa missÃ£o

> **Transformar o que as pessoas falam em algo que vocÃª pode entender, sentir e agir.**

Fazemos isso combinando o melhor da inteligÃªncia artificial com uma experiÃªncia de produto que trata os dados com o mesmo cuidado que trata as emoÃ§Ãµes.

---

## Nossa visÃ£o

Um mundo onde qualquer criador, marca ou empresa â€” independentemente do tamanho â€” consegue entender genuinamente o que o seu pÃºblico sente. Onde a anÃ¡lise de sentimento deixa de ser privilÃ©gio de grandes corporaÃ§Ãµes com equipes de dados e vira uma ferramenta acessÃ­vel, humanizada e acionÃ¡vel.

No futuro, a Sentimenta quer ser o termÃ´metro emocional de referÃªncia para qualquer pessoa que se preocupa com a sua reputaÃ§Ã£o digital.

---

## Valores

### 1. Empatia antes de algoritmos

Dados sÃ£o o meio. CompreensÃ£o humana Ã© o fim.

Quando construÃ­mos uma feature, perguntamos: *"Isso ajuda alguÃ©m a entender melhor o seu pÃºblico?"* â€” nÃ£o *"isso aumenta nossa retenÃ§Ã£o?"*. A resposta para a segunda pergunta Ã© consequÃªncia da primeira.

Acreditamos que os melhores produtos de dados sÃ£o aqueles que fazem o usuÃ¡rio se sentir **ouvido**, nÃ£o sobrecarregado.

### 2. Leveza Ã© uma escolha de design

O mundo de dados e analytics Ã© cheio de dashboards intimidadores, tabelas interminÃ¡veis e jargÃ£o desnecessÃ¡rio. A gente escolheu o caminho oposto.

Leveza nÃ£o significa superficialidade. Significa que nos importamos o suficiente com o usuÃ¡rio para fazer o trabalho difÃ­cil de simplificar sem perder a profundidade. Um relatÃ³rio bem escrito em portuguÃªs claro Ã© mais valioso do que dez grÃ¡ficos confusos.

### 3. MatemÃ¡tica como linguagem da realidade

NÃ£o temos medo de nÃºmeros. Amamos estatÃ­stica. Mas entendemos que um nÃºmero sem contexto Ã© ruÃ­do.

Score 6,8 â€” o que isso significa? Ã‰ bom? Ã‰ preocupante? A Sentimenta nÃ£o joga nÃºmeros na tela e vai embora. Ela contextualiza, explica, compara e traduz. A matemÃ¡tica existe para revelar a realidade, nÃ£o para impressionar.

### 4. Honestidade intelectual

Se o sentimento estÃ¡ ruim, a gente diz. Sem eufemismos corporativos, sem esconder mÃ©tricas negativas atrÃ¡s de visuais bonitos.

Acreditamos que um insight difÃ­cil, entregue com cuidado, vale mais do que um relatÃ³rio otimista que nÃ£o ajuda ninguÃ©m a melhorar. Somos honestos mesmo quando o dado nÃ£o Ã© o que o usuÃ¡rio quer ver â€” porque Ã© isso que constrÃ³i confianÃ§a de longo prazo.

### 5. Velocidade com propÃ³sito

LanÃ§ar rÃ¡pido Ã© bom. LanÃ§ar rÃ¡pido algo que resolve um problema real Ã© Ã³timo. LanÃ§ar rÃ¡pido por lanÃ§ar Ã© desperdÃ­cio.

Cada feature que entra na Sentimenta passa pelo filtro: *"isso remove uma dor real do usuÃ¡rio ou sÃ³ adiciona complexidade?"*. Preferimos ter menos features, cada uma funcionando muito bem, do que um produto inchado com coisas que ninguÃ©m usa.

### 6. O pÃºblico tambÃ©m importa

Os comentÃ¡rios que analisamos sÃ£o de pessoas reais com opiniÃµes genuÃ­nas. Nunca esquecemos isso.

A Sentimenta nÃ£o incentiva a manipulaÃ§Ã£o de audiÃªncia. Nossa funÃ§Ã£o Ã© revelar o que as pessoas pensam â€” nÃ£o ajudar a construir narrativas artificiais. Respeitamos o pÃºblico do nosso usuÃ¡rio tanto quanto respeitamos o prÃ³prio usuÃ¡rio.

---

## Filosofia de produto

### Dados com alma

Existe uma tensÃ£o bonita no coraÃ§Ã£o da Sentimenta: somos profundamente data-driven e profundamente humanos ao mesmo tempo.

Usamos modelos de linguagem de Ãºltima geraÃ§Ã£o, estatÃ­stica descritiva e anÃ¡lise semÃ¢ntica â€” mas o produto que entregamos tem uma voz. Tem personalidade. Fala como um amigo que entende de dados, nÃ£o como um relatÃ³rio de consultoria.

Isso nÃ£o acontece por acidente. Ã‰ uma decisÃ£o deliberada de produto: **a interface emocional do dado Ã© tÃ£o importante quanto o dado em si**.

### O modelo mental: saÃºde reputacional

Pensamos na reputaÃ§Ã£o digital como saÃºde. VocÃª nÃ£o verifica sua saÃºde sÃ³ quando estÃ¡ doente â€” vocÃª monitora regularmente para entender tendÃªncias, pegar sinais cedo e tomar decisÃµes preventivas.

Da mesma forma, a Sentimenta nÃ£o existe sÃ³ para crise. Ela existe para monitoramento contÃ­nuo: *Como estÃ¡ minha saÃºde reputacional essa semana? O que mudou? O que estÃ¡ funcionando?*

O health report gerado por IA Ã© a materializaÃ§Ã£o disso â€” nÃ£o um relatÃ³rio tÃ©cnico, mas uma conversa sobre como vocÃª estÃ¡ se saindo com o seu pÃºblico.

### Menos configuraÃ§Ã£o, mais insight

Onboarding tem que ser simples ao ponto de ser embaraÃ§oso. Cole o @usuÃ¡rio. Clique em conectar. Clique em analisar. Em minutos vocÃª jÃ¡ tem uma visÃ£o do que seu pÃºblico sente.

NÃ£o pedimos que o usuÃ¡rio configure webhooks, entenda APIs ou saiba o que Ã© NPS. A complexidade tÃ©cnica Ã© nossa responsabilidade â€” o usuÃ¡rio sÃ³ precisa aparecer.

### Design que nÃ£o intimida

A paleta lilÃ¡s-ciano nÃ£o Ã© sÃ³ estÃ©tica. Ã‰ uma declaraÃ§Ã£o: *somos uma empresa de dados que nÃ£o quer parecer uma empresa de dados*.

Queremos que abrir o dashboard seja uma experiÃªncia prazerosa, nÃ£o ansiogÃªnica. Que o usuÃ¡rio sinta que o produto trabalha para ele, nÃ£o contra ele.

---

## Para quem construÃ­mos

### O criador de conteÃºdo em crescimento

Tem de 10k a 500k seguidores. Posta consistentemente. Sabe que tem uma audiÃªncia engajada mas nÃ£o consegue ler todos os comentÃ¡rios. Quer entender o que estÃ¡ ressoando, o que estÃ¡ gerando reaÃ§Ã£o negativa e como estÃ¡ evoluindo ao longo do tempo.

**O que ele precisa:** velocidade, clareza, zero jargÃ£o. Ele nÃ£o tem tempo nem interesse em aprender analytics â€” ele quer saber o essencial e seguir em frente.

### A marca que leva redes sociais a sÃ©rio

Uma empresa mÃ©dia a grande com presenÃ§a no Instagram e YouTube. Tem equipe de marketing que posta regularmente e precisa reportar para a lideranÃ§a. Hoje usa planilhas, intuiÃ§Ã£o e amostragem manual de comentÃ¡rios.

**O que ela precisa:** relatÃ³rios que ela pode mostrar para o CMO, trends ao longo do tempo, comparaÃ§Ã£o entre plataformas e alertas quando algo estiver errado.

### O gestor de reputaÃ§Ã£o/agÃªncia

Cuida de mÃºltiplos perfis. Precisa de visÃ£o consolidada, capacidade de comparar clientes e gerar relatÃ³rios rapidamente.

**O que ele precisa:** eficiÃªncia, multi-conexÃ£o, exportaÃ§Ã£o e a sensaÃ§Ã£o de que estÃ¡ usando uma ferramenta profissional de verdade.

---

## Como pensamos

### Sobre features novas

Antes de construir qualquer coisa, fazemos trÃªs perguntas:

1. **Quem sofre sem isso?** â€” Se nÃ£o conseguimos nomear uma pessoa real ou um cenÃ¡rio concreto, a feature provavelmente nÃ£o Ã© urgente.
2. **Como saberemos que funcionou?** â€” Toda feature precisa de uma mÃ©trica de sucesso. NÃ£o necessariamente quantitativa, mas clara.
3. **O que isso substitui?** â€” Adicionar sem remover cria complexidade. Se uma nova feature nÃ£o resolve algo que jÃ¡ existia de forma pior, ela pode ser desnecessÃ¡ria.

### Sobre erros

Erramos rÃ¡pido e consertamos mais rÃ¡pido ainda. NÃ£o existe "pÃ³s-mortem" aqui â€” existe "o que aprendemos e o que muda agora".

Cultura de culpa mata a velocidade. Cultura de aprendizado acelerada pela honestidade Ã© o que nos mantÃ©m em movimento.

### Sobre prioridade

Urgente â‰  importante. A Sentimenta tem um roadmap, mas roadmaps sÃ£o hipÃ³teses â€” nÃ£o contratos.

Se descobrirmos que algo que estava planejado para o Q3 Ã© irrelevante para os usuÃ¡rios reais, descartamos sem drama. Se descobrirmos que algo inesperado Ã© crÃ­tico, subimos na fila. Flexibilidade Ã© agilidade real.

---

## O que nÃ£o somos

Ã‰ tÃ£o importante saber o que nÃ£o somos quanto o que somos.

**NÃ£o somos uma ferramenta de vigilÃ¢ncia.** A Sentimenta analisa o pÃºblico de quem conectou a conta â€” nÃ£o rastreia nem perfila usuÃ¡rios individuais para fins de targeting ou manipulaÃ§Ã£o.

**NÃ£o somos um relatÃ³rio automÃ¡tico sem alma.** Cada elemento da plataforma foi pensado para ser Ãºtil e compreensÃ­vel por um humano real. Se algo parece um dump de dados, Ã© um bug de produto, nÃ£o uma feature.

**NÃ£o somos uma plataforma de gestÃ£o de crise.** Somos monitoramento preventivo. A crise Ã© o sintoma â€” a Sentimenta Ã© o check-up regular que a evita.

**NÃ£o somos mais um dashboard de vanity metrics.** NÃ£o nos importa mostrar nÃºmeros grandes que parecem impressionantes mas nÃ£o significam nada. Nos importa mostrar o que realmente revela a saÃºde da sua relaÃ§Ã£o com o pÃºblico.

---

## Nossa linguagem

A Sentimenta tem uma voz. Quando escrevemos â€” seja em interface, em documentaÃ§Ã£o ou em relatÃ³rios gerados por IA â€” seguimos esses princÃ­pios:

**Humano, nÃ£o robÃ³tico.** "Seu pÃºblico estÃ¡ adorando esse tema" em vez de "TÃ³pico identificado com alta frequÃªncia relativa de sentimento positivo."

**Direto, nÃ£o burocrÃ¡tico.** Frases curtas. ParÃ¡grafos curtos. Sem rodeios.

**Honesto, nÃ£o assÃ©ptico.** Se algo estÃ¡ mal, dizemos com cuidado â€” mas dizemos. Sem eufemismos vazios.

**Motivador, nÃ£o condescendente.** Celebramos o que vai bem. Apresentamos desafios como oportunidades reais, nÃ£o como crÃ­ticas veladas.

**Em portuguÃªs brasileiro de verdade.** NÃ£o traduzido do inglÃªs. NÃ£o corporativo. Do jeito que uma pessoa inteligente e prÃ³xima falaria com vocÃª.

---

## FundaÃ§Ã£o tÃ©cnica

Esta seÃ§Ã£o documenta as tecnologias e arquiteturas que sustentam a plataforma Sentimenta. Ã‰ um registro vivo â€” atualizado conforme o produto evolui.

---

### VisÃ£o geral da arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USUÃRIO (Browser)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND â€” Next.js 14                        â”‚
â”‚              App Router Â· TypeScript Â· Tailwind CSS             â”‚
â”‚                      localhost:3000                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND â€” FastAPI (Python)                    â”‚
â”‚            Uvicorn Â· SQLAlchemy Â· Pydantic v2                   â”‚
â”‚                      localhost:8000                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL 16        â”‚   â”‚        Redis 7                      â”‚
â”‚   Banco principal      â”‚   â”‚   Cache Â· Broker de tarefas         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚       Celery Workers         â”‚
                         â”‚   Pipeline assÃ­ncrono        â”‚
                         â”‚   Ingest â†’ Analyze           â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                         â”‚                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Apify (Instagram)     â”‚ â”‚  Instaloader         â”‚ â”‚  Gemini API          â”‚
â”‚  Comment Scraper       â”‚ â”‚  Profile + Posts     â”‚ â”‚  AnÃ¡lise + RelatÃ³rio â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Frontend

**Framework:** [Next.js 14](https://nextjs.org/) com App Router
**Linguagem:** TypeScript
**EstilizaÃ§Ã£o:** Tailwind CSS com design system customizado

#### Design System

A identidade visual da Sentimenta Ã© construÃ­da sobre dois eixos cromÃ¡ticos:

- **LilÃ¡s** (`#C4B5FD` â†’ `#8B5CF6`): representa criatividade, intuiÃ§Ã£o e o lado emocional dos dados
- **Ciano** (`#67E8F9` â†’ `#06B6D4`): representa clareza, tecnologia e fluxo de informaÃ§Ã£o

Os cards usam o conceito `dream-card` â€” bordas suaves, sombras sutis, fundo branco com leve sensaÃ§Ã£o de profundidade. A tipografia principal Ã© **Outfit** (headings) e **Inter** (corpo de texto).

#### Componentes principais

| Componente | Responsabilidade |
|---|---|
| `app/(dashboard)/dashboard/page.tsx` | VisÃ£o geral: KPIs, trend chart, health report, posts recentes |
| `app/(dashboard)/dashboard/connection/[id]/page.tsx` | AnÃ¡lise detalhada de uma conexÃ£o: scores, tendÃªncia, emoÃ§Ãµes, tÃ³picos, posts, comentÃ¡rios |
| `app/(dashboard)/connect/page.tsx` | Gerenciamento de perfis: conectar, sincronizar, configurar parÃ¢metros |
| `app/(dashboard)/posts/[id]/page.tsx` | AnÃ¡lise de um post especÃ­fico com comentÃ¡rios |
| `app/(dashboard)/logs/page.tsx` | HistÃ³rico de execuÃ§Ãµes do pipeline |
| `components/Sidebar.tsx` | NavegaÃ§Ã£o principal |

#### ComunicaÃ§Ã£o com API

Toda comunicaÃ§Ã£o com o backend passa por `lib/api.ts` â€” um cliente centralizado que:
- Injeta o JWT de autenticaÃ§Ã£o automaticamente
- Padroniza tratamento de erros
- Tipifica as respostas com os tipos de `lib/types.ts`

#### RenderizaÃ§Ã£o de dados

- **GrÃ¡ficos:** SVG puro (sem biblioteca externa) â€” trend charts, area charts, barras horizontais
- **Markdown:** `react-markdown` com `@tailwindcss/typography` para o health report
- **Tooltips:** CSS puro com `group-hover` do Tailwind (sem dependÃªncia JS)

---

### Backend

**Framework:** [FastAPI](https://fastapi.tiangolo.com/) (Python 3.12)
**ORM:** SQLAlchemy 2.x com Pydantic v2
**Servidor:** Uvicorn (ASGI)

#### Estrutura de rotas

| Prefix | Responsabilidade |
|---|---|
| `/api/v1/auth` | Registro, login, logout, perfil do usuÃ¡rio |
| `/api/v1/connections` | Gerenciamento de conexÃµes + trigger de sync |
| `/api/v1/posts` | Listagem e detalhes de posts |
| `/api/v1/comments` | Busca, filtro e paginaÃ§Ã£o de comentÃ¡rios |
| `/api/v1/dashboard` | Summary, trends, health report, alertas, comparativo |
| `/api/v1/pipeline` | Status e histÃ³rico de execuÃ§Ãµes do pipeline |

#### Banco de dados (PostgreSQL)

**Tabelas principais:**

| Tabela | DescriÃ§Ã£o |
|---|---|
| `users` | Contas de usuÃ¡rio com autenticaÃ§Ã£o JWT |
| `social_connections` | Perfis conectados (Instagram, YouTube) |
| `posts` | Posts coletados por conexÃ£o |
| `comments` | ComentÃ¡rios individuais com texto original e limpo |
| `comment_analyses` | Resultado da anÃ¡lise por IA (score, emoÃ§Ãµes, tÃ³picos, polaridade, sarcasmo) |
| `post_summaries` | AgregaÃ§Ã£o de anÃ¡lises por post (avg_score, weighted_score, distribuiÃ§Ã£o) |
| `pipeline_runs` | Log de cada execuÃ§Ã£o do pipeline com mÃ©tricas |

#### Cache (Redis)

- Cache de resultados de dashboard (`summary`, `trends`) com TTL configurÃ¡vel
- InvalidaÃ§Ã£o automÃ¡tica apÃ³s conclusÃ£o de pipeline
- Broker de mensagens para o Celery

---

### Pipeline de anÃ¡lise

O coraÃ§Ã£o tÃ©cnico da Sentimenta Ã© o **pipeline assÃ­ncrono** que processa cada conexÃ£o em duas fases:

```
trigger_sync (HTTP POST)
        â”‚
        â–¼
task_full_pipeline (Celery)
        â”‚
        â”œâ”€â”€ task_ingest
        â”‚       â”‚
        â”‚       â”œâ”€â”€ fetch_recent_posts (instaloader)
        â”‚       â”‚       â””â”€â”€ filtra por max_posts e since_date
        â”‚       â”‚
        â”‚       â””â”€â”€ fetch_post_comments (Apify â†’ fallback instaloader)
        â”‚               â””â”€â”€ salva em posts + comments (status: pending)
        â”‚
        â””â”€â”€ analyze_post_comments (para cada post)
                â”‚
                â”œâ”€â”€ Gemini API (batch de 30 comentÃ¡rios por chamada)
                â”‚       â””â”€â”€ retorna: score_0_10, emotions[], topics[],
                â”‚                   polarity, sarcasm, summary_pt
                â”‚
                â””â”€â”€ generate_post_summary
                        â””â”€â”€ agrega scores, calcula weighted_avg,
                            distribui sentimentos (pos/neu/neg)
```

---

### Coleta de dados

#### Instagram

**Fonte primÃ¡ria â€” Apify (`apify/instagram-comment-scraper`):**
- Extrai comentÃ¡rios de posts pÃºblicos via scraping headless
- NÃ£o requer login nem OAuth do perfil analisado
- Tolerante a rate limits do Instagram
- Input: URL direta do post + limite de comentÃ¡rios
- Output: texto, autor, timestamp, likes por comentÃ¡rio

**Fonte de perfis/posts â€” Instaloader:**
- Descobre metadados do perfil (seguidores, bio, foto)
- Lista posts recentes com caption, likes, contagem de comentÃ¡rios
- Filtragem por data (`since_date`) aplicada durante iteraÃ§Ã£o
- Fallback para comentÃ¡rios quando Apify nÃ£o estÃ¡ configurado

#### YouTube

- IntegraÃ§Ã£o via `yt-dlp` para descoberta de canais
- API do YouTube Data (planejado para expansÃ£o)

---

### AnÃ¡lise de sentimento com IA

**Modelo:** Google Gemini (configurÃ¡vel via `GEMINI_MODEL`)
**EstratÃ©gia:** batch de atÃ© 30 comentÃ¡rios por prompt para reduzir custo e latÃªncia

#### O que analisamos por comentÃ¡rio

| Campo | Tipo | DescriÃ§Ã£o |
|---|---|---|
| `score_0_10` | `float` | Score de sentimento de 0 (muito negativo) a 10 (muito positivo) |
| `polarity` | `float` | Escala âˆ’1 a +1 baseada em anÃ¡lise semÃ¢ntica |
| `emotions` | `string[]` | Lista de emoÃ§Ãµes detectadas (ex: "alegria", "frustraÃ§Ã£o", "admiraÃ§Ã£o") |
| `topics` | `string[]` | TÃ³picos mencionados (ex: "atendimento", "preÃ§o", "qualidade") |
| `sarcasm` | `bool` | DetecÃ§Ã£o de sarcasmo/ironia |
| `summary_pt` | `string` | Resumo do comentÃ¡rio em portuguÃªs para exibiÃ§Ã£o |

#### MÃ©tricas agregadas por post/conexÃ£o

| MÃ©trica | CÃ¡lculo |
|---|---|
| **Score mÃ©dio** | MÃ©dia aritmÃ©tica de `score_0_10` de todos os comentÃ¡rios analisados |
| **Score ponderado** | MÃ©dia de `score_0_10` ponderada por `like_count + 1` â€” reflete a opiniÃ£o mais influente |
| **Polaridade mÃ©dia** | MÃ©dia de `polarity` â€” complementa o score com anÃ¡lise semÃ¢ntica |
| **DistribuiÃ§Ã£o** | Positivo (score â‰¥ 7) / Neutro (4â€“7) / Negativo (< 4) |
| **Top emoÃ§Ãµes** | FrequÃªncia de cada emoÃ§Ã£o na coleÃ§Ã£o de comentÃ¡rios |
| **Top tÃ³picos** | FrequÃªncia de cada tÃ³pico mencionado |

---

### Health Report (RelatÃ³rio de SaÃºde Reputacional)

O health report Ã© gerado sob demanda via Gemini com um prompt especialmente estruturado que define a voz da Sentimenta:

- **Tom:** prÃ³ximo, humano, como um amigo que entende de dados
- **Formato:** Markdown com seÃ§Ãµes estruturadas (âœ… o que funciona, âš ï¸ pontos de atenÃ§Ã£o, ğŸ’¡ insights, ğŸš€ prÃ³ximos passos)
- **Input:** dados agregados da conexÃ£o (scores, distribuiÃ§Ãµes, emoÃ§Ãµes, tÃ³picos)
- **RenderizaÃ§Ã£o:** `react-markdown` com `@tailwindcss/typography` no frontend
- **ParÃ¢metros:** temperatura 0.75, atÃ© 2.000 tokens de output

---

### AutenticaÃ§Ã£o

- **JWT** (access token + refresh token)
- Armazenamento em `localStorage` com helper `lib/auth.ts`
- ProteÃ§Ã£o de rotas via middleware Next.js
- Suporte a Google OAuth planejado

---

### Infraestrutura local (desenvolvimento)

| ServiÃ§o | Como roda |
|---|---|
| PostgreSQL 16 | ServiÃ§o Windows (instalaÃ§Ã£o nativa) |
| Redis 7 | ServiÃ§o Windows (instalaÃ§Ã£o nativa) |
| Backend FastAPI | `uvicorn` via `.venv` Python |
| Celery Worker | Processo separado via `.venv` |
| Frontend Next.js | `npm run dev` |

Script de inicializaÃ§Ã£o: `start.ps1` (abre 3 janelas PowerShell)

---

### VariÃ¡veis de ambiente relevantes

```env
# Banco
DATABASE_URL=postgresql://...

# Cache e filas
REDIS_URL=redis://localhost:6379/0

# IA
GEMINI_API_KEY=...
GEMINI_MODEL=gemini-1.5-flash

# Scraping
APIFY_API_TOKEN=...

# Auth
SECRET_KEY=...
```

---

### Roadmap tÃ©cnico (prÃ³ximas prioridades)

- [ ] TikTok integration (coleta + anÃ¡lise)
- [ ] Webhooks para alertas em tempo real (Slack, Email)
- [ ] ExportaÃ§Ã£o de relatÃ³rios em PDF
- [ ] Multi-conta por usuÃ¡rio (agÃªncias)
- [ ] API pÃºblica para integraÃ§Ã£o externa
- [ ] Dashboard de custo de LLM por usuÃ¡rio
- [ ] AnÃ¡lise de replies/threads de comentÃ¡rios

---

*Documento vivo. Ãšltima atualizaÃ§Ã£o: fevereiro de 2026.*
*Para sugestÃµes ou correÃ§Ãµes, abra uma PR ou fale com o time.*
